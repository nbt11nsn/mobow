SELECT oppettider.kontraktid, veckodagarid, oppet, stangt FROM oppettider WHERE veckodagarid = dayofweek(now()) AND kontraktid NOT IN (SELECT kontraktid FROM specialtider WHERE veckodagarid = dayofweek(now()) AND curdate() BETWEEN specstart AND specslut) union SELECT kontraktid, veckodagarid, altoppet, altstangt FROM specialtider WHERE veckodagarid = dayofweek(now()) AND curdate() BETWEEN specstart AND specslut